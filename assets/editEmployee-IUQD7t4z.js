import{a8 as F,a as k,b as P,r as i,j as s,a9 as L,I as c,H as n,i as T,a4 as A,e as I,K as R,af as U,n as B,k as V,F as z,d as M,m as G,aa as H}from"./index-CM3o3oxI.js";import{A as J,u as K}from"./Avatar-DpnhpSWA.js";import{B as O,C as W}from"./buttons-D6twyJzD.js";import{C as Y}from"./container-BrufLho7.js";import{f as _}from"./formValidation-9VKpTfHk.js";import{S as x}from"./select-CAcpIBi7.js";import{S as $,a as q}from"./SelectCountry-DCq_emy_.js";const oe=()=>{const{id:v}=F(),u=k(),g=P(),{loginData:h}=R,{jobType:C}=U,[N,j]=i.useState(!1),[f,w]=i.useState(!1),[t,o]=i.useState({name:"",password:"",profile:"",email:"",phoneNumber:"",countryCode:"",country:"",age:"",visits:"",jobType:"",date:new Date,login:"Yes",status:{},gender:"Male",tasks:[],projects:[],events:[],note:""}),[S,b]=i.useState(!1),[d,m]=i.useState({name:"",password:"",email:"",officeWebsite:"",phoneNumber:""}),p=e=>{const{name:a,value:l}=e.target;o(r=>({...r,[a]:l})),m(r=>({...r,[a]:""}))},E=async e=>{e.preventDefault();const a=_(t);if(Object.keys(a).length===0){b(!0);try{await B.promise(u(V(t)),{loading:"Updating employee...",success:"Updated successfully",error:`Failed to update employee: ${a.message}`}),g(-1,{replace:!0}),b(!1)}catch(r){console.log(r)}}else m(r=>({...r,...a}))},y=e=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"w-3 h-3 rounded-full",style:{background:e==null?void 0:e.color}}),s.jsx("span",{children:e==null?void 0:e.name})]}),D=()=>s.jsxs("div",{className:"flex w-full h-full text-slate-600",children:[s.jsx("div",{className:"px-2 h-full border-r border-slate-300 flex items-center justify-center hover:bg-slate-200",onClick:()=>{w(e=>!e)},children:f?s.jsx(z,{size:18}):s.jsx(M,{size:18})}),s.jsx("div",{className:"px-2 h-full flex items-center justify-center hover:bg-slate-200",onClick:()=>{const e=K(10);o(a=>({...a,password:e})),m(a=>({...a,password:""}))},children:s.jsx(G,{})})]});return i.useEffect(()=>{(async()=>{j(!0);const l=(await u(H(v))).payload;l&&o(r=>({...r,...l})),j(!1)})()},[u]),s.jsx("div",{className:"p-6",children:s.jsxs(Y,{children:[s.jsx("div",{className:"border-b border-slate-300 p-4",children:s.jsx("h2",{className:"text-xl font-bold",children:"Update Employee"})}),N&&s.jsx(L,{}),s.jsxs("form",{onSubmit:E,children:[s.jsx("div",{children:s.jsxs("div",{className:"p-4 grid gap-6",children:[s.jsxs("div",{className:"grid lg:grid-cols-[1fr_245px] lg:gap-6 gap-4",children:[s.jsxs("div",{className:"grid sm:grid-cols-3 grid-cols-1 gap-6",children:[s.jsx(c,{label:"Name",name:"name",important:!0,error:d.name,value:t.name,placeholder:"Enter a name",onChange:e=>{p(e)}}),s.jsx(c,{label:"Email",name:"email",type:"text",important:!0,error:d.email,value:t.email,placeholder:"Enter a email",onChange:e=>{p(e)}}),s.jsx(c,{label:"Password",name:"password",important:!0,type:f?"text":"password",error:d.password,value:t.password,placeholder:"Enter a password",onChange:e=>{p(e)},button:s.jsx(D,{})}),s.jsx(n,{label:"Gender",children:s.jsx(x,{options:T,value:t.gender,onChange:e=>{o(a=>({...a,gender:e}))},fields:e=>e})}),s.jsx(n,{label:"Country",children:s.jsx($,{value:t.country,onChange:e=>{o(a=>({...a,country:e,countryCode:e}))}})}),s.jsx(n,{label:"Phone no",htmlFor:"phone",children:s.jsxs("div",{className:"flex",children:[s.jsx(q,{value:t.countryCode,onChange:e=>{o(a=>({...a,countryCode:e}))}}),s.jsx(c,{type:"tel",name:"phone",error:d.phoneNumber,value:t.phoneNumber,onChange:e=>{o(a=>({...a,phoneNumber:e.target.value})),m(a=>({...a,phoneNumber:""}))}})]})})]}),s.jsx(n,{label:"Profile Picture",children:s.jsx(J,{value:t.profile,onChange:e=>{o(a=>({...a,profile:e}))}})})]}),s.jsxs("div",{className:"grid grid-cols-4 gap-6",children:[s.jsx(n,{label:"Job Type",children:s.jsx(x,{emptylist:!0,options:C,value:t.jobType,onChange:e=>{o(a=>({...a,jobType:e}))},fields:e=>e})}),s.jsx(c,{type:"number",label:"Age",value:t.age,name:"age",onChange:e=>{p(e)}}),s.jsx(n,{label:"Status",children:s.jsx(x,{options:t.statusMenu,value:t.status,onChange:e=>{o(a=>({...a,status:e}))},optiontemplete:y,valuetemplete:y,fields:e=>e.name})})]}),s.jsx(n,{label:"Login Allowed",children:s.jsx("div",{className:"flex gap-6 items-center",children:h==null?void 0:h.map((e,a)=>s.jsx(A,{id:e,name:"login",label:e,value:e,checked:t.login===e,onChange:l=>{o(r=>({...r,login:l}))}},a))})})]})}),s.jsxs("div",{className:"border-t border-slate-300 p-4 flex gap-4",children:[s.jsx(O,{text:"Submit",icon:s.jsx(I,{}),type:"submit",loading:S}),s.jsx(W,{type:"button",text:"Cancel",onClick:()=>g(-1,{replace:!0})})]})]})]})})};export{oe as default};
