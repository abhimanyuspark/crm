import{a as F,b as A,r as i,j as a,I as n,H as t,i as D,a4 as k,e as P,K as T,af as I,n as L,a7 as R,F as B,d as M,m as V}from"./index-Cac5ShxX.js";import{A as z,u as G}from"./Avatar-LOvtKYCp.js";import{B as H,C as J}from"./buttons-Voag_etK.js";import{C as K}from"./container-PoFkz2nc.js";import{f as O}from"./formValidation-9VKpTfHk.js";import{S as p}from"./select-CTc0Dtup.js";import{S as U,a as Y}from"./SelectCountry-D-XzJqPi.js";import{v as d}from"./v4-D8aEg3BZ.js";const ae=({intialImage:f})=>{const v=F(),u=A(),{loginData:c}=T,{jobType:b}=I,[x,y]=i.useState(!1),[s,C]=i.useState({id:d(),role:["employee"],name:"",password:"",profile:f||"",email:"",phoneNumber:"",countryCode:"",country:"",age:"",visits:"",jobType:"",date:new Date,login:"Yes",status:{name:"Active",color:"#0cf90c",id:d()},statusMenu:[{name:"Inactive",color:"red",id:d()},{name:"Active",color:"#0cf90c",id:d()}],gender:"Male",tasks:[],projects:[],events:[],note:""}),[N,h]=i.useState(!1),[m,g]=i.useState({name:"",password:"",email:"",phoneNumber:""}),r=(e,l)=>{C(o=>({...o,[e]:l})),g(o=>({...o,[e]:""}))},w=async e=>{e.preventDefault();const l=O(s);if(Object.keys(l).length===0){h(!0);try{await L.promise(v(R(s)),{loading:"Saving Employee...",success:"Employee Added Successfully",error:"Failed to Add Employee"}),u(-1,{replace:!0})}catch(E){console.error("Error adding employee:",E)}finally{h(!1)}}else g(l)},j=e=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-3 h-3 rounded-full",style:{background:e==null?void 0:e.color}}),a.jsx("span",{children:e==null?void 0:e.name})]}),S=()=>a.jsxs("div",{className:"flex w-full h-full text-slate-600",children:[a.jsx("div",{className:"px-2 h-full border-r border-slate-300 flex items-center justify-center hover:bg-slate-200",onClick:()=>y(e=>!e),children:x?a.jsx(B,{size:18}):a.jsx(M,{size:18})}),a.jsx("div",{className:"px-2 h-full flex items-center justify-center hover:bg-slate-200",onClick:()=>{const e=G(10);r("password",e)},children:a.jsx(V,{})})]});return a.jsx("div",{className:"p-6",children:a.jsxs(K,{children:[a.jsx("div",{className:"border-b border-slate-300 p-4",children:a.jsx("h2",{className:"text-xl font-bold",children:"Add Employee"})}),a.jsxs("form",{onSubmit:w,children:[a.jsxs("div",{className:"p-4 grid gap-6",children:[a.jsxs("div",{className:"grid lg:grid-cols-[1fr_245px] lg:gap-6 gap-4",children:[a.jsxs("div",{className:"grid sm:grid-cols-3 grid-cols-1 gap-6",children:[a.jsx(n,{label:"Name",name:"name",important:!0,error:m.name,value:s.name,placeholder:"Enter a name",onChange:e=>r("name",e.target.value)}),a.jsx(n,{label:"Email",name:"email",type:"text",important:!0,error:m.email,value:s.email,placeholder:"Enter an email",onChange:e=>r("email",e.target.value)}),a.jsx(n,{label:"Password",name:"password",important:!0,type:x?"text":"password",error:m.password,value:s.password,placeholder:"Enter a password",onChange:e=>r("password",e.target.value),button:a.jsx(S,{})}),a.jsx(t,{label:"Gender",children:a.jsx(p,{options:D,value:s.gender,onChange:e=>r("gender",e),fields:e=>e})}),a.jsx(t,{label:"Country",children:a.jsx(U,{value:s.country,onChange:e=>r("country",e)})}),a.jsx(t,{label:"Phone no",htmlFor:"phone",children:a.jsxs("div",{className:"flex",children:[a.jsx(Y,{value:s.countryCode,onChange:e=>r("countryCode",e)}),a.jsx(n,{type:"tel",name:"phone",value:s.phoneNumber,onChange:e=>r("phoneNumber",e.target.value)})]})})]}),a.jsx(t,{label:"Profile Picture",children:a.jsx(z,{value:s.profile,onChange:e=>r("profile",e)})})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-6",children:[a.jsx(t,{label:"Job Type",children:a.jsx(p,{emptylist:!0,options:b,value:s.jobType,onChange:e=>r("jobType",e),fields:e=>e})}),a.jsx(n,{type:"number",label:"Age",value:s.age,name:"age",onChange:e=>r("age",e.target.value)}),a.jsx(t,{label:"Status",children:a.jsx(p,{options:s.statusMenu,value:s.status,onChange:e=>r("status",e),optiontemplete:j,valuetemplete:j,fields:e=>e.name})})]}),a.jsx(t,{label:"Login Allowed",children:a.jsx("div",{className:"flex gap-6 items-center",children:c==null?void 0:c.map((e,l)=>a.jsx(k,{id:e,name:"login",label:e,value:e,checked:s.login===e,onChange:o=>r("login",o)},l))})})]}),a.jsxs("div",{className:"border-t border-slate-300 p-4 flex gap-4",children:[a.jsx(H,{text:"Submit",icon:a.jsx(P,{}),type:"submit",loading:N}),a.jsx(J,{type:"button",text:"Cancel",onClick:()=>u(-1,{replace:!0})})]})]})]})})};export{ae as default};
